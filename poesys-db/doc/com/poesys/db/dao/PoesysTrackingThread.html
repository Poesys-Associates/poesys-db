<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Tue Feb 27 11:07:46 PST 2018 -->
<title>PoesysTrackingThread</title>
<meta name="date" content="2018-02-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PoesysTrackingThread";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PoesysTrackingThread.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/poesys/db/dao/MessagingDaoManager.html" title="class in com.poesys.db.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/poesys/db/dao/PoesysTrackingThread.html" target="_top">Frames</a></li>
<li><a href="PoesysTrackingThread.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.poesys.db.dao</div>
<h2 title="Class PoesysTrackingThread" class="title">Class PoesysTrackingThread</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>com.poesys.db.dao.PoesysTrackingThread</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">PoesysTrackingThread</span>
extends java.lang.Thread</pre>
<div class="block"><p>
 A Thread object that contains the retrieval and processing state of a
 Poesys/DB object tree retrieval. The class tracks the set of retrieved
 objects as a history of objects retrieved. Each object is in a container
 object that has attributes related to Poesys/DB processing. The Thread
 subclass thus provides a container for operations involving multiple objects
 and provides a place outside the objects to track processing. The thread
 class also contains a SQL exception that objects running in the thread can
 use to query the database through Poesys/DB DAOs. It also contains a
 Throwable object that gets set if the tracking thread throws an exception;
 the thread itself finishes normally but sets this Throwable so the main
 thread can test for any problem and get the thrown exception.
 </p>
 <p>
 Note: the Runnable you pass in must have a finally block in the run() method
 that calls the closeConnection() method on the thread.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Robert J. Muller</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#connection">connection</a></span></code>
<div class="block">the database connection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,<a href="../../../../com/poesys/db/dao/DtoTrackingObject.html" title="class in com.poesys.db.dao">DtoTrackingObject</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#history">history</a></span></code>
<div class="block">map of DTOs indexed by global primary key (string version of DTO primary
 key)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#INVALID_PARAMETERS_ERROR">INVALID_PARAMETERS_ERROR</a></span></code>
<div class="block">Invalid parameters to the connection factory</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#IO_ERROR_ERROR">IO_ERROR_ERROR</a></span></code>
<div class="block">IO exception initializing connection</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#logger">logger</a></span></code>
<div class="block">Logger for debugging</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#NO_DTO_ERROR">NO_DTO_ERROR</a></span></code>
<div class="block">No cached DTO error</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#NO_KEY_ERROR">NO_KEY_ERROR</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#SQL_ERROR">SQL_ERROR</a></span></code>
<div class="block">SQL error for operation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#SQL_EXCEPTION_ERROR">SQL_EXCEPTION_ERROR</a></span></code>
<div class="block">SQL exception initializing connection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Throwable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#throwable">throwable</a></span></code>
<div class="block">the optional exception thrown by the thread before finishing</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.Runnable-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.Runnable&nbsp;target,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a PoesysTrackingThread object with a task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.Runnable-java.lang.String-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.Runnable&nbsp;target,
                    java.lang.String&nbsp;name,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a named CachedThread object with a Runnable task.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.String-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.String&nbsp;name,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a CachedThread object with a name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.ThreadGroup&nbsp;group,
                    java.lang.Runnable&nbsp;target,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a CachedThread object within a group.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-long-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.ThreadGroup&nbsp;group,
                    java.lang.Runnable&nbsp;target,
                    java.lang.String&nbsp;name,
                    long&nbsp;stackSize,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a named CachedThread object with a Runnable task within a group with
 a specific stack size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.ThreadGroup&nbsp;group,
                    java.lang.Runnable&nbsp;target,
                    java.lang.String&nbsp;name,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a named CachedThread object with a Runnable task within a group.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#PoesysTrackingThread-java.lang.ThreadGroup-java.lang.String-java.lang.String-">PoesysTrackingThread</a></span>(java.lang.ThreadGroup&nbsp;group,
                    java.lang.String&nbsp;name,
                    java.lang.String&nbsp;subsystem)</code>
<div class="block">Create a named CachedThread object within a group.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#addDto-com.poesys.db.dto.IDbDto-">addDto</a></span>(<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;dto)</code>
<div class="block">Add a DTO to the cached DTO retrieval history for this thread.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#closeConnection--">closeConnection</a></span>()</code>
<div class="block">Close the SQL connection.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#failDto-com.poesys.db.dto.IDbDto-int-">failDto</a></span>(<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;dto,
       int&nbsp;code)</code>
<div class="block">Mark the DTO failed by marking the actual DTO status FAILED and by setting
 the error code in the DTO tracking object.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#getBatchErrors--">getBatchErrors</a></span>()</code>
<div class="block">Return a list of DTO primary key strings for DTOs that had batch processing
 errors.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#getConnection--">getConnection</a></span>()</code>
<div class="block">Get the thread's SQL connection.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#getDto-com.poesys.db.pk.IPrimaryKey-">getDto</a></span>(<a href="../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</a>&nbsp;key)</code>
<div class="block">Get a DTO from the internal tracking data, or null if the DTO has not been
 retrieved from the cache.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.Throwable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#getThrowable--">getThrowable</a></span>()</code>
<div class="block">Get a Throwable exception thrown during the run() method.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#initConnection-java.lang.String-">initConnection</a></span>(java.lang.String&nbsp;subsystem)</code>
<div class="block">Initialize a database connection to a Poesys/DB subsystem</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#isProcessed-com.poesys.db.pk.IPrimaryKey-">isProcessed</a></span>(<a href="../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</a>&nbsp;key)</code>
<div class="block">Has a specified DTO been processed? If the DTO is not in the history, the
 method returns false.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#processErrors-int:A-java.util.Collection-">processErrors</a></span>(int[]&nbsp;codes,
             java.util.Collection&lt;<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;&nbsp;dtos)</code>
<div class="block">Process any errors from a batch of DTOs of type T.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#rollback--">rollback</a></span>()</code>
<div class="block">Roll back the current transaction in the thread.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#setProcessed-com.poesys.db.dto.IDbDto-boolean-">setProcessed</a></span>(<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;dto,
            boolean&nbsp;processed)</code>
<div class="block">Mark a DTO in the retrieval history as processed; if the DTO is not in the
 history, add it.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/poesys/db/dao/PoesysTrackingThread.html#setThrowable-java.lang.Throwable-">setThrowable</a></span>(java.lang.Throwable&nbsp;throwable)</code>
<div class="block">Record a Throwable thrown during the run() method before finishing.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, run, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static final&nbsp;org.apache.log4j.Logger logger</pre>
<div class="block">Logger for debugging</div>
</li>
</ul>
<a name="history">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>history</h4>
<pre>private final&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../com/poesys/db/dao/DtoTrackingObject.html" title="class in com.poesys.db.dao">DtoTrackingObject</a>&gt; history</pre>
<div class="block">map of DTOs indexed by global primary key (string version of DTO primary
 key)</div>
</li>
</ul>
<a name="connection">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connection</h4>
<pre>private final&nbsp;java.sql.Connection connection</pre>
<div class="block">the database connection</div>
</li>
</ul>
<a name="throwable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throwable</h4>
<pre>private&nbsp;java.lang.Throwable throwable</pre>
<div class="block">the optional exception thrown by the thread before finishing</div>
</li>
</ul>
<a name="NO_DTO_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_DTO_ERROR</h4>
<pre>private static final&nbsp;java.lang.String NO_DTO_ERROR</pre>
<div class="block">No cached DTO error</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.poesys.db.dao.PoesysTrackingThread.NO_DTO_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SQL_EXCEPTION_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SQL_EXCEPTION_ERROR</h4>
<pre>private static final&nbsp;java.lang.String SQL_EXCEPTION_ERROR</pre>
<div class="block">SQL exception initializing connection</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.poesys.db.dao.PoesysTrackingThread.SQL_EXCEPTION_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="IO_ERROR_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IO_ERROR_ERROR</h4>
<pre>private static final&nbsp;java.lang.String IO_ERROR_ERROR</pre>
<div class="block">IO exception initializing connection</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.poesys.db.dao.PoesysTrackingThread.IO_ERROR_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SQL_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SQL_ERROR</h4>
<pre>private static final&nbsp;java.lang.String SQL_ERROR</pre>
<div class="block">SQL error for operation</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.poesys.db.dao.PoesysTrackingThread.SQL_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INVALID_PARAMETERS_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_PARAMETERS_ERROR</h4>
<pre>private static final&nbsp;java.lang.String INVALID_PARAMETERS_ERROR</pre>
<div class="block">Invalid parameters to the connection factory</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.poesys.db.dao.PoesysTrackingThread.INVALID_PARAMETERS_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NO_KEY_ERROR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NO_KEY_ERROR</h4>
<pre>private static final&nbsp;java.lang.String NO_KEY_ERROR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.poesys.db.dao.PoesysTrackingThread.NO_KEY_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PoesysTrackingThread-java.lang.Runnable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.Runnable&nbsp;target,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a PoesysTrackingThread object with a task.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - the Runnable task</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
<a name="PoesysTrackingThread-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.String&nbsp;name,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a CachedThread object with a name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the thread name</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
<a name="PoesysTrackingThread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.ThreadGroup&nbsp;group,
                            java.lang.Runnable&nbsp;target,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a CachedThread object within a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - the group of threads</dd>
<dd><code>target</code> - the Runnable task</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
<a name="PoesysTrackingThread-java.lang.ThreadGroup-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.ThreadGroup&nbsp;group,
                            java.lang.String&nbsp;name,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a named CachedThread object within a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - a group of threads</dd>
<dd><code>name</code> - the thread name</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
<a name="PoesysTrackingThread-java.lang.Runnable-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.Runnable&nbsp;target,
                            java.lang.String&nbsp;name,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a named CachedThread object with a Runnable task.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>target</code> - the task</dd>
<dd><code>name</code> - the thread name</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
<a name="PoesysTrackingThread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.ThreadGroup&nbsp;group,
                            java.lang.Runnable&nbsp;target,
                            java.lang.String&nbsp;name,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a named CachedThread object with a Runnable task within a group.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - the thread group</dd>
<dd><code>target</code> - the task</dd>
<dd><code>name</code> - the thread name</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
<a name="PoesysTrackingThread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PoesysTrackingThread</h4>
<pre>public&nbsp;PoesysTrackingThread(java.lang.ThreadGroup&nbsp;group,
                            java.lang.Runnable&nbsp;target,
                            java.lang.String&nbsp;name,
                            long&nbsp;stackSize,
                            java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create a named CachedThread object with a Runnable task within a group with
 a specific stack size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>group</code> - the thread group</dd>
<dd><code>target</code> - the task</dd>
<dd><code>name</code> - the thread name</dd>
<dd><code>stackSize</code> - integer, size of the thread stack</dd>
<dd><code>subsystem</code> - the database subsystem for the DTO being processed</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDto-com.poesys.db.pk.IPrimaryKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDto</h4>
<pre>public&nbsp;<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;getDto(<a href="../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</a>&nbsp;key)</pre>
<div class="block">Get a DTO from the internal tracking data, or null if the DTO has not been
 retrieved from the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the globally unique primary key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the DTO, or null if not yet retrieved in this thread</dd>
</dl>
</li>
</ul>
<a name="initConnection-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initConnection</h4>
<pre>private&nbsp;java.sql.Connection&nbsp;initConnection(java.lang.String&nbsp;subsystem)</pre>
<div class="block">Initialize a database connection to a Poesys/DB subsystem</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subsystem</code> - the subsystem name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the connection</dd>
</dl>
</li>
</ul>
<a name="addDto-com.poesys.db.dto.IDbDto-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDto</h4>
<pre>public&nbsp;void&nbsp;addDto(<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;dto)</pre>
<div class="block">Add a DTO to the cached DTO retrieval history for this thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dto</code> - the DTO to add</dd>
</dl>
</li>
</ul>
<a name="isProcessed-com.poesys.db.pk.IPrimaryKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isProcessed</h4>
<pre>public&nbsp;boolean&nbsp;isProcessed(<a href="../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</a>&nbsp;key)</pre>
<div class="block">Has a specified DTO been processed? If the DTO is not in the history, the
 method returns false.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the primary key for the DTO to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if processed, false if not or not in history</dd>
</dl>
</li>
</ul>
<a name="setProcessed-com.poesys.db.dto.IDbDto-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setProcessed</h4>
<pre>public&nbsp;void&nbsp;setProcessed(<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;dto,
                         boolean&nbsp;processed)</pre>
<div class="block">Mark a DTO in the retrieval history as processed; if the DTO is not in the
 history, add it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dto</code> - the DTO to mark</dd>
<dd><code>processed</code> - true for processed, false for not processed</dd>
</dl>
</li>
</ul>
<a name="getConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public&nbsp;java.sql.Connection&nbsp;getConnection()</pre>
<div class="block">Get the thread's SQL connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a connection</dd>
</dl>
</li>
</ul>
<a name="closeConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeConnection</h4>
<pre>public&nbsp;void&nbsp;closeConnection()</pre>
<div class="block">Close the SQL connection. You should call this method as the last method
 call for the thread object, usually in a finally clause in the run()
 method. The method commits the transaction, then closes the database. You
 should roll back the transaction in the error handling code before calling
 this method, as appropriate.</div>
</li>
</ul>
<a name="rollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback()</pre>
<div class="block">Roll back the current transaction in the thread.</div>
</li>
</ul>
<a name="processErrors-int:A-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processErrors</h4>
<pre>public&nbsp;void&nbsp;processErrors(int[]&nbsp;codes,
                          java.util.Collection&lt;<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;&nbsp;dtos)</pre>
<div class="block">Process any errors from a batch of DTOs of type T. The JDBC batch
 processing sets an array of integers with codes, and this method determines
 which DTOs have errors and sets the message in the DTO. The logic is a
 little involved because of the way JDBC constructs the array. It will have
 an empty array if processing fails on the first DTO; it will have an array
 shorter than the list of DTOs if the error caused batch processing to stop
 on a DTO other than the first DTO; or it will have an array equal to the
 length of the DTO list if processing completed but there were errors.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codes</code> - the JDBC error code array</dd>
<dd><code>dtos</code> - the batch of DTOs</dd>
</dl>
</li>
</ul>
<a name="failDto-com.poesys.db.dto.IDbDto-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failDto</h4>
<pre>private&nbsp;void&nbsp;failDto(<a href="../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&nbsp;dto,
                     int&nbsp;code)</pre>
<div class="block">Mark the DTO failed by marking the actual DTO status FAILED and by setting
 the error code in the DTO tracking object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dto</code> - the DTO to fail</dd>
<dd><code>code</code> - the error code</dd>
</dl>
</li>
</ul>
<a name="getBatchErrors--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBatchErrors</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getBatchErrors()</pre>
<div class="block">Return a list of DTO primary key strings for DTOs that had batch processing
 errors.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of DTO primary key strings, possibly empty</dd>
</dl>
</li>
</ul>
<a name="getThrowable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThrowable</h4>
<pre>public&nbsp;java.lang.Throwable&nbsp;getThrowable()</pre>
<div class="block">Get a Throwable exception thrown during the run() method. The main thread
 should check this value after the run completes to determine whether an
 error has occurred in the tracking thread processing.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the exception or null if there was no exception thrown</dd>
</dl>
</li>
</ul>
<a name="setThrowable-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setThrowable</h4>
<pre>public&nbsp;void&nbsp;setThrowable(java.lang.Throwable&nbsp;throwable)</pre>
<div class="block">Record a Throwable thrown during the run() method before finishing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>throwable</code> - a Throwable exception</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PoesysTrackingThread.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/poesys/db/dao/MessagingDaoManager.html" title="class in com.poesys.db.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/poesys/db/dao/PoesysTrackingThread.html" target="_top">Frames</a></li>
<li><a href="PoesysTrackingThread.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
