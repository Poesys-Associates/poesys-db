<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Tue Mar 27 11:20:08 PDT 2012 -->
<TITLE>
IParameterizedQuerySql
</TITLE>

<META NAME="date" CONTENT="2012-03-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IParameterizedQuerySql";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/IParameterizedQuerySql.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IParameterizedCountSql.html" title="interface in com.poesys.db.dao.query"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IQueryByKey.html" title="interface in com.poesys.db.dao.query"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/poesys/db/dao/query/IParameterizedQuerySql.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IParameterizedQuerySql.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.poesys.db.dao.query</FONT>
<BR>
Interface IParameterizedQuerySql&lt;T extends <A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</A>,P extends <A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</A>&gt;</H2>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>T</CODE> - the type of IDbDto to query<DD><CODE>P</CODE> - the type of IDbDto that supplies parameters</DL>
<HR>
<DL>
<DT><PRE>public interface <B>IParameterizedQuerySql&lt;T extends <A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</A>,P extends <A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</A>&gt;</B></DL>
</PRE>

<P>
<p>
 An interface that defines the set of operations required by an
 IQueryListWithParameters object to build and parameterize a SQL SELECT
 statement for a set of data transfer objects (DTOs) specified by a set of
 parameters defined in a second DTO
 </p>
 <p>
 An implemention of this interface should have a static string containing the
 SQL SELECT and FROM clauses and the WHERE keyword and a space as the last
 element. The <code>getData</code> method is a factory method that produces
 IDto objects.
 </p>
 <ol>
 <li>retrieve the queried data elements into local variables using the JDBC
 accessor methods of the type appropriate to the data</li>
 <li>create the IDto object, supplying the primary key and the relevant data
 elements from the local variables to the constructor call</li>
 </ol>
 <p>
 The <code>getSql</code> method should construct the complete SQL statement by
 concatenating the static SQL with the dynamically generated primary key query
 expression from the primary key object <code>getSqlWhereExpression</code>
 method if the query involves a primary key. Otherwise, the method can just
 return the static SQL.
 </p>
 <p>
 This example represents a parameterized query of the <code>Seq</code> table,
 a table with a Sequence primary key (a unique integer generated in a
 sequence) and a single <code>VARCHAR</code> column, col1. The example uses
 the Seq class for both the parameter DTO and the result DTO types as the
 example parameterizes the SQL query on the col1 column.
 </p>
 
 <pre>
 public class SequenceQueryWithParametersSql implements IParameterizedQuerySql {
   private static final String SQL = &quot;SELECT pkey, col1 FROM Seq WHERE col1 = ?&quot;;
 
   public void bindParameters(PreparedStatement stmt, IDto parameters)
       throws SQLException {
     Sequence params = (Sequence)parameters;
     stmt.setString(1, params.getCol1());
   }
 
   public IPrimaryKey getPrimaryKey(ResultSet rs) throws SQLException,
       InvalidParametersException {
     BigInteger pkey = rs.getBigDecimal(&quot;pkey&quot;).toBigInteger();
     IPrimaryKey key = PrimaryKeyFactory.createSequenceKey(&quot;pkey&quot;, pkey);
     return key;
   }
 
   public Sequence getData(ResultSet rs) throws SQLException {
     String col1 = rs.getString(&quot;col1&quot;);
     Sequence dto = new Sequence(getPrimaryKey(rs), col1);
     return dto;
   }
 
   public String getSql() {
     return SQL;
   }
 }
 </pre>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Robert J. Muller</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../../com/poesys/db/dao/query/IQueryListWithParameters.html" title="interface in com.poesys.db.dao.query"><CODE>IQueryListWithParameters</CODE></A>, 
<A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto"><CODE>IDbDto</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html#bindParameters(java.sql.PreparedStatement, P)">bindParameters</A></B>(java.sql.PreparedStatement&nbsp;stmt,
               <A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html" title="type parameter in IParameterizedQuerySql">P</A>&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bind the parameter values into the SQL statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html" title="type parameter in IParameterizedQuerySql">T</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html#getData(java.sql.ResultSet)">getData</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create the Data Transfer Object (DTO) from the result set instantiated by
 the prepared statement execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html#getParameterValues(P)">getParameterValues</A></B>(<A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html" title="type parameter in IParameterizedQuerySql">P</A>&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the parameter values for display.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html#getPrimaryKey(java.sql.ResultSet)">getPrimaryKey</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a primary key object of the appropriate implementation for the DTO
 object from the result set instantiated by the prepared statement
 execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html#getSql()">getSql</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Get the SQL SELECT statement embedding the parameters.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getSql()"><!-- --></A><H3>
getSql</H3>
<PRE>
java.lang.String <B>getSql</B>()</PRE>
<DL>
<DD><p>
 Get the SQL SELECT statement embedding the parameters.
 </p>
 
 <pre>
 <code>
 SELECT select-list FROM &lt;table-expression&gt; WHERE &lt;select-expression&gt;
 </code>
 </pre>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the SQL for the SELECT statement</DL>
</DD>
</DL>
<HR>

<A NAME="bindParameters(java.sql.PreparedStatement,com.poesys.db.dto.IDbDto)"><!-- --></A><A NAME="bindParameters(java.sql.PreparedStatement, P)"><!-- --></A><H3>
bindParameters</H3>
<PRE>
void <B>bindParameters</B>(java.sql.PreparedStatement&nbsp;stmt,
                    <A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html" title="type parameter in IParameterizedQuerySql">P</A>&nbsp;parameters)
                    throws java.sql.SQLException</PRE>
<DL>
<DD>Bind the parameter values into the SQL statement.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stmt</CODE> - the prepared statement into which to bind the parameter values<DD><CODE>parameters</CODE> - a DTO containing the parameter values
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - when there is a bind error</DL>
</DD>
</DL>
<HR>

<A NAME="getParameterValues(com.poesys.db.dto.IDbDto)"><!-- --></A><A NAME="getParameterValues(P)"><!-- --></A><H3>
getParameterValues</H3>
<PRE>
java.lang.String <B>getParameterValues</B>(<A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html" title="type parameter in IParameterizedQuerySql">P</A>&nbsp;parameters)</PRE>
<DL>
<DD>Get the parameter values for display.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parameters</CODE> - the object containing the parameter values
<DT><B>Returns:</B><DD>a string displaying the name and value of each parameter value</DL>
</DD>
</DL>
<HR>

<A NAME="getData(java.sql.ResultSet)"><!-- --></A><H3>
getData</H3>
<PRE>
<A HREF="../../../../../com/poesys/db/dao/query/IParameterizedQuerySql.html" title="type parameter in IParameterizedQuerySql">T</A> <B>getData</B>(java.sql.ResultSet&nbsp;rs)
                         throws java.sql.SQLException</PRE>
<DL>
<DD>Create the Data Transfer Object (DTO) from the result set instantiated by
 the prepared statement execution. Each call returns one result from the
 ResultSet.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rs</CODE> - the result set from the query execution
<DT><B>Returns:</B><DD>the DTO
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - when the parameter setting fails with a SQL error</DL>
</DD>
</DL>
<HR>

<A NAME="getPrimaryKey(java.sql.ResultSet)"><!-- --></A><H3>
getPrimaryKey</H3>
<PRE>
<A HREF="../../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</A> <B>getPrimaryKey</B>(java.sql.ResultSet&nbsp;rs)
                          throws java.sql.SQLException,
                                 <A HREF="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</A></PRE>
<DL>
<DD>Create a primary key object of the appropriate implementation for the DTO
 object from the result set instantiated by the prepared statement
 execution. Each call returns one primary key from the result set. You can
 use this method to get the primary key for an object rather than the entire
 object to use for lookup--for example, in a cache.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rs</CODE> - the result set from the query execution
<DT><B>Returns:</B><DD>the primary key
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - when the parameter setting fails with a SQL error
<DD><CODE><A HREF="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</A></CODE> - when key generation fails due to a null
           key name or value</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/IParameterizedQuerySql.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IParameterizedCountSql.html" title="interface in com.poesys.db.dao.query"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IQueryByKey.html" title="interface in com.poesys.db.dao.query"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/poesys/db/dao/query/IParameterizedQuerySql.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IParameterizedQuerySql.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
