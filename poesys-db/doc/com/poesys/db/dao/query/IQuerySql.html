<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Mon Jun 13 13:25:21 PDT 2016 -->
<title>IQuerySql</title>
<meta name="date" content="2016-06-13">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IQuerySql";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IQuerySql.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/poesys/db/dao/query/IQueryListWithParameters.html" title="interface in com.poesys.db.dao.query"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/poesys/db/dao/query/QueryByKey.html" title="class in com.poesys.db.dao.query"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/poesys/db/dao/query/IQuerySql.html" target="_top">Frames</a></li>
<li><a href="IQuerySql.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.poesys.db.dao.query</div>
<h2 title="Interface IQuerySql" class="title">Interface IQuerySql&lt;T extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - the type of object to query</dd></dl>
<hr>
<br>
<pre>public interface <span class="strong">IQuerySql&lt;T extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;</span></pre>
<div class="block"><p>
 An interface that defines the set of operations required by an IQueryList
 object to build a SQL SELECT statement for a set of data transfer objects
 (DTOs)
 </p>
 <p>
 An implemention of this interface should have a static string containing the
 SQL statement with no internal parameters (? characters). The
 <code>getData</code> method is a factory method that produces IDto objects.
 </p>
 <ol>
 <li>retrieve the queried data elements into local variables using the JDBC
 accessor methods of the type appropriate to the data</li>
 <li>create the IDto object, supplying the primary key and the relevant data
 elements from the local variables to the constructor call</li>
 </ol>
 <p>
 The <code>getPrimaryKey</code> method provides an interface for the primary
 key, usually implemented through the subsystem factory
 <code>getPrimaryKey</code> method. The <code>getData</code> method uses
 this to instantiate a primary key from the result set to pass to the
 constructor for the object; caching also uses this method to construct a
 primary key object to look up an object in the cache based on a result set.
 </p>
 <p>
 The <code>getSql</code> method should construct the complete SQL statement
 by concatenating the static SQL with the dynamically generated primary key
 query expression from the primary key object
 <code>getSqlWhereExpression</code> method.
 </p>
 <p>
 This example represents a simple query of the <code>Seq</code> table, a
 table with a Sequence primary key (a unique integer generated in a sequence)
 and a single <code>VARCHAR</code> column, col1.
 </p>
 
 <pre>
 public class SequenceQuerySql implements IQuerySql {
   private static final String SQL = &quot;SELECT pkey, col1 FROM Seq ORDER BY pkey&quot;;
 
   public IDto getData(ResultSet rs) throws SQLException,
       InvalidParametersException {
     String col1 = rs.getString(&quot;col1&quot;);
     IPrimaryKey key = TestFactory.getTestSequencePrimaryKey(rs);
     TestSequence dto = new TestSequence(key, col1);
     return dto;
   }
 
   public String getSql() {
     return SQL;
   }
 }
 </pre>
 
 &#064;author author Robert J. Muller</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/poesys/db/dao/query/IQuerySql.html" title="type parameter in IQuerySql">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/poesys/db/dao/query/IQuerySql.html#getData(java.sql.ResultSet)">getData</a></strong>(java.sql.ResultSet&nbsp;rs)</code>
<div class="block">Create the Data Transfer Object (DTO) from the result set instantiated by
 the prepared statement execution.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/poesys/db/dao/query/IQuerySql.html#getPrimaryKey(java.sql.ResultSet)">getPrimaryKey</a></strong>(java.sql.ResultSet&nbsp;rs)</code>
<div class="block">Create a primary key object of the appropriate implementation for the DTO
 object from the result set instantiated by the prepared statement
 execution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/poesys/db/dao/query/IQuerySql.html#getSql()">getSql</a></strong>()</code>
<div class="block">
 Get the SQL SELECT statement.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSql()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSql</h4>
<pre>java.lang.String&nbsp;getSql()</pre>
<div class="block"><p>
 Get the SQL SELECT statement.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the SQL for the SELECT statement</dd></dl>
</li>
</ul>
<a name="getData(java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre><a href="../../../../../com/poesys/db/dao/query/IQuerySql.html" title="type parameter in IQuerySql">T</a>&nbsp;getData(java.sql.ResultSet&nbsp;rs)
                         throws java.sql.SQLException,
                                <a href="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</a></pre>
<div class="block">Create the Data Transfer Object (DTO) from the result set instantiated by
 the prepared statement execution. Each call returns one result from the
 ResultSet.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - the result set from the query execution</dd>
<dt><span class="strong">Returns:</span></dt><dd>the DTO</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - when the parameter setting fails with a SQL error</dd>
<dd><code><a href="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</a></code> - when key generation fails due to a null
             key name or value</dd></dl>
</li>
</ul>
<a name="getPrimaryKey(java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPrimaryKey</h4>
<pre><a href="../../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</a>&nbsp;getPrimaryKey(java.sql.ResultSet&nbsp;rs)
                          throws java.sql.SQLException,
                                 <a href="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</a></pre>
<div class="block">Create a primary key object of the appropriate implementation for the DTO
 object from the result set instantiated by the prepared statement
 execution. Each call returns one primary key from the result set. You can
 use this method to get the primary key for an object rather than the entire
 object to use for lookup--for example, in a cache.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - the result set from the query execution</dd>
<dt><span class="strong">Returns:</span></dt><dd>the primary key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - when the parameter setting fails with a SQL error</dd>
<dd><code><a href="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</a></code> - when key generation fails due to a null
             key name or value</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IQuerySql.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/poesys/db/dao/query/IQueryListWithParameters.html" title="interface in com.poesys.db.dao.query"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/poesys/db/dao/query/QueryByKey.html" title="class in com.poesys.db.dao.query"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/poesys/db/dao/query/IQuerySql.html" target="_top">Frames</a></li>
<li><a href="IQuerySql.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
