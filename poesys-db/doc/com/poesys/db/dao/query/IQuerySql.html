<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Tue Mar 27 11:20:08 PDT 2012 -->
<TITLE>
IQuerySql
</TITLE>

<META NAME="date" CONTENT="2012-03-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IQuerySql";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/IQuerySql.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IQueryListWithParameters.html" title="interface in com.poesys.db.dao.query"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/QueryByKey.html" title="class in com.poesys.db.dao.query"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/poesys/db/dao/query/IQuerySql.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IQuerySql.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.poesys.db.dao.query</FONT>
<BR>
Interface IQuerySql&lt;T extends <A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</A>&gt;</H2>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>T</CODE> - the type of object to query</DL>
<HR>
<DL>
<DT><PRE>public interface <B>IQuerySql&lt;T extends <A HREF="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</A>&gt;</B></DL>
</PRE>

<P>
<p>
 An interface that defines the set of operations required by an IQueryList
 object to build a SQL SELECT statement for a set of data transfer objects
 (DTOs)
 </p>
 <p>
 An implemention of this interface should have a static string containing the
 SQL statement with no internal parameters (? characters). The
 <code>getData</code> method is a factory method that produces IDto objects.
 </p>
 <ol>
 <li>retrieve the queried data elements into local variables using the JDBC
 accessor methods of the type appropriate to the data</li>
 <li>create the IDto object, supplying the primary key and the relevant data
 elements from the local variables to the constructor call</li>
 </ol>
 <p>
 The <code>getPrimaryKey</code> method provides an interface for the primary
 key, usually implemented through the subsystem factory
 <code>getPrimaryKey</code> method. The <code>getData</code> method uses
 this to instantiate a primary key from the result set to pass to the
 constructor for the object; caching also uses this method to construct a
 primary key object to look up an object in the cache based on a result set.
 </p>
 <p>
 The <code>getSql</code> method should construct the complete SQL statement
 by concatenating the static SQL with the dynamically generated primary key
 query expression from the primary key object
 <code>getSqlWhereExpression</code> method.
 </p>
 <p>
 This example represents a simple query of the <code>Seq</code> table, a
 table with a Sequence primary key (a unique integer generated in a sequence)
 and a single <code>VARCHAR</code> column, col1.
 </p>
 
 <pre>
 public class SequenceQuerySql implements IQuerySql {
   private static final String SQL = &quot;SELECT pkey, col1 FROM Seq ORDER BY pkey&quot;;
 
   public IDto getData(ResultSet rs) throws SQLException,
       InvalidParametersException {
     String col1 = rs.getString(&quot;col1&quot;);
     IPrimaryKey key = TestFactory.getTestSequencePrimaryKey(rs);
     TestSequence dto = new TestSequence(key, col1);
     return dto;
   }
 
   public String getSql() {
     return SQL;
   }
 }
 </code>
 
 &#064;author author Robert J. Muller
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IQuerySql.html" title="type parameter in IQuerySql">T</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IQuerySql.html#getData(java.sql.ResultSet)">getData</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create the Data Transfer Object (DTO) from the result set instantiated by
 the prepared statement execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IQuerySql.html#getPrimaryKey(java.sql.ResultSet)">getPrimaryKey</A></B>(java.sql.ResultSet&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a primary key object of the appropriate implementation for the DTO
 object from the result set instantiated by the prepared statement
 execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/poesys/db/dao/query/IQuerySql.html#getSql()">getSql</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Get the SQL SELECT statement.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getSql()"><!-- --></A><H3>
getSql</H3>
<PRE>
java.lang.String <B>getSql</B>()</PRE>
<DL>
<DD><p>
 Get the SQL SELECT statement.
 </p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the SQL for the SELECT statement</DL>
</DD>
</DL>
<HR>

<A NAME="getData(java.sql.ResultSet)"><!-- --></A><H3>
getData</H3>
<PRE>
<A HREF="../../../../../com/poesys/db/dao/query/IQuerySql.html" title="type parameter in IQuerySql">T</A> <B>getData</B>(java.sql.ResultSet&nbsp;rs)
                         throws java.sql.SQLException,
                                <A HREF="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</A></PRE>
<DL>
<DD>Create the Data Transfer Object (DTO) from the result set instantiated by
 the prepared statement execution. Each call returns one result from the
 ResultSet.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rs</CODE> - the result set from the query execution
<DT><B>Returns:</B><DD>the DTO
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - when the parameter setting fails with a SQL error
<DD><CODE><A HREF="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</A></CODE> - when key generation fails due to a null
             key name or value</DL>
</DD>
</DL>
<HR>

<A NAME="getPrimaryKey(java.sql.ResultSet)"><!-- --></A><H3>
getPrimaryKey</H3>
<PRE>
<A HREF="../../../../../com/poesys/db/pk/IPrimaryKey.html" title="interface in com.poesys.db.pk">IPrimaryKey</A> <B>getPrimaryKey</B>(java.sql.ResultSet&nbsp;rs)
                          throws java.sql.SQLException,
                                 <A HREF="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</A></PRE>
<DL>
<DD>Create a primary key object of the appropriate implementation for the DTO
 object from the result set instantiated by the prepared statement
 execution. Each call returns one primary key from the result set. You can
 use this method to get the primary key for an object rather than the entire
 object to use for lookup--for example, in a cache.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rs</CODE> - the result set from the query execution
<DT><B>Returns:</B><DD>the primary key
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE> - when the parameter setting fails with a SQL error
<DD><CODE><A HREF="../../../../../com/poesys/db/InvalidParametersException.html" title="class in com.poesys.db">InvalidParametersException</A></CODE> - when key generation fails due to a null
             key name or value</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/IQuerySql.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/IQueryListWithParameters.html" title="interface in com.poesys.db.dao.query"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/poesys/db/dao/query/QueryByKey.html" title="class in com.poesys.db.dao.query"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/poesys/db/dao/query/IQuerySql.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IQuerySql.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
