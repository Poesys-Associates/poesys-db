<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Sun Mar 11 12:21:29 PDT 2018 -->
<title>UpdateBatchByKey</title>
<meta name="date" content="2018-03-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UpdateBatchByKey";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UpdateBatchByKey.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/poesys/db/dao/update/IUpdateWithParameters.html" title="interface in com.poesys.db.dao.update"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/poesys/db/dao/update/UpdateByKey.html" title="class in com.poesys.db.dao.update"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/poesys/db/dao/update/UpdateBatchByKey.html" target="_top">Frames</a></li>
<li><a href="UpdateBatchByKey.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.poesys.db.dao.update</div>
<h2 title="Class UpdateBatchByKey" class="title">Class UpdateBatchByKey&lt;T extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/poesys/db/dao/AbstractBatch.html" title="class in com.poesys.db.dao">com.poesys.db.dao.AbstractBatch</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>com.poesys.db.dao.update.UpdateBatchByKey&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of IDbDto to update</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html" title="interface in com.poesys.db.dao.update">IUpdateBatch</a>&lt;T&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/poesys/db/dao/update/UpdateCacheBatchByKey.html" title="class in com.poesys.db.dao.update">UpdateCacheBatchByKey</a>, <a href="../../../../../com/poesys/db/dao/update/UpdateMemcachedBatchByKey.html" title="class in com.poesys.db.dao.update">UpdateMemcachedBatchByKey</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">UpdateBatchByKey&lt;T extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;</span>
extends <a href="../../../../../com/poesys/db/dao/AbstractBatch.html" title="class in com.poesys.db.dao">AbstractBatch</a>&lt;T&gt;
implements <a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html" title="interface in com.poesys.db.dao.update">IUpdateBatch</a>&lt;T&gt;</pre>
<div class="block"><p>
 An implementation of the IUpdateBatch interface that contains the base code
 for updating a batch of objects in the database. To use this class, you must
 implement the IUpdateSql interface for the concrete class that contains the
 SQL UPDATE statement and the JDBC code to set the fields in the DTO from the
 JDBC result set, then pass that object into the UpdateBatchByKey constructor.
 The implementation should update in the database only if isChanged() is true.
 The caller should update the status to EXISTING once <strong>all</strong>
 processing is complete (over the entire inheritance hierarchy).
 </p>
 <p>
 Batch processing can improve performance dramatically for large collections
 of UPDATE statements because it reduces network latency overhead and provides
 single-statement support for multiple updates processed in a single batch.
 There may be some rare circumstance where batching doesn't work, in which
 case you can use com.poesys.db.dao.update.UpdateCollectionByKey.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Robert J. Muller</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/poesys/db/dto/AbstractDto.html" title="class in com.poesys.db.dto"><code>AbstractDto</code></a>, 
<a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto"><code>IDbDto</code></a>, 
<a href="../../../../../com/poesys/db/dao/update/IUpdateSql.html" title="interface in com.poesys.db.dao.update"><code>IUpdateSql</code></a>, 
<a href="../../../../../com/poesys/db/dao/update/UpdateCollectionByKey.html" title="class in com.poesys.db.dao.update"><code>UpdateCollectionByKey</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#logger">logger</a></span></code>
<div class="block">Logger for this class</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#NO_DTO_ERROR">NO_DTO_ERROR</a></span></code>
<div class="block">Error message when no DTO is supplied</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#NO_KEY_ERROR">NO_KEY_ERROR</a></span></code>
<div class="block">Error message when no primary key supplied</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#NULL_SQL_ERROR">NULL_SQL_ERROR</a></span></code>
<div class="block">Error message when no SQL object supplied</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#POST_PROCESSING_ERROR">POST_PROCESSING_ERROR</a></span></code>
<div class="block">Error message when post-processing throws an exception</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../com/poesys/db/dao/update/IUpdateSql.html" title="interface in com.poesys.db.dao.update">IUpdateSql</a>&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#sql">sql</a></span></code>
<div class="block">Internal Strategy-pattern object containing the SQL query</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#SQL_ERROR">SQL_ERROR</a></span></code>
<div class="block">Error message when no SQL object supplied</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#THREAD_ERROR">THREAD_ERROR</a></span></code>
<div class="block">Error message when thread is interrupted or timed out</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#TIMEOUT">TIMEOUT</a></span></code>
<div class="block">timeout for the cache thread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#UPDATE_ERROR">UPDATE_ERROR</a></span></code>
<div class="block">Error message when insert throws exception</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.poesys.db.dao.AbstractBatch">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.poesys.db.dao.<a href="../../../../../com/poesys/db/dao/AbstractBatch.html" title="class in com.poesys.db.dao">AbstractBatch</a></h3>
<code><a href="../../../../../com/poesys/db/dao/AbstractBatch.html#subsystem">subsystem</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#UpdateBatchByKey-com.poesys.db.dao.update.IUpdateSql-java.lang.String-">UpdateBatchByKey</a></span>(<a href="../../../../../com/poesys/db/dao/update/IUpdateSql.html" title="interface in com.poesys.db.dao.update">IUpdateSql</a>&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;sql,
                java.lang.String&nbsp;subsystem)</code>
<div class="block">Create an UpdateBatchByKey object by supplying the concrete implementation
 of the SQL-statement generator and JDBC setter.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#close--">close</a></span>()</code>
<div class="block">Close any resources allocated by the Command.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#processBatch-java.lang.String-java.sql.PreparedStatement-java.util.List-int-">processBatch</a></span>(java.lang.String&nbsp;key,
            java.sql.PreparedStatement&nbsp;stmt,
            java.util.List&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;list,
            int&nbsp;count)</code>
<div class="block">Take a complete batch of statements and execute the batch.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#processDto-T-java.sql.PreparedStatement-java.lang.String-java.util.List-int-int:A-int-">processDto</a></span>(<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&nbsp;dto,
          java.sql.PreparedStatement&nbsp;stmt,
          java.lang.String&nbsp;sqlStmt,
          java.util.List&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;list,
          int&nbsp;size,
          int[]&nbsp;codes,
          int&nbsp;count)</code>
<div class="block">Process the DTO.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#processFinalBatch-java.util.Collection-java.sql.PreparedStatement-java.util.List-">processFinalBatch</a></span>(java.util.Collection&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;dtos,
                 java.sql.PreparedStatement&nbsp;stmt,
                 java.util.List&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;list)</code>
<div class="block">Process the final batch.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#processUpdateBatches-java.util.Collection-int-com.poesys.db.dao.PoesysTrackingThread-">processUpdateBatches</a></span>(java.util.Collection&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;dtos,
                    int&nbsp;size,
                    <a href="../../../../../com/poesys/db/dao/PoesysTrackingThread.html" title="class in com.poesys.db.dao">PoesysTrackingThread</a>&nbsp;thread)</code>
<div class="block">Update a collection of DTOs using batch processing, including pre- and
 post-processing.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html#update-java.util.Collection-int-">update</a></span>(java.util.Collection&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;dtos,
      int&nbsp;size)</code>
<div class="block">An interface for a Command-pattern class that updates the contents of a
 collection of objects in the database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static final&nbsp;org.apache.log4j.Logger logger</pre>
<div class="block">Logger for this class</div>
</li>
</ul>
<a name="sql">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sql</h4>
<pre>private&nbsp;<a href="../../../../../com/poesys/db/dao/update/IUpdateSql.html" title="interface in com.poesys.db.dao.update">IUpdateSql</a>&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a> extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt; sql</pre>
<div class="block">Internal Strategy-pattern object containing the SQL query</div>
</li>
</ul>
<a name="TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIMEOUT</h4>
<pre>private static final&nbsp;int TIMEOUT</pre>
<div class="block">timeout for the cache thread</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.TIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NO_DTO_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_DTO_ERROR</h4>
<pre>private static final&nbsp;java.lang.String NO_DTO_ERROR</pre>
<div class="block">Error message when no DTO is supplied</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.NO_DTO_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NO_KEY_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_KEY_ERROR</h4>
<pre>private static final&nbsp;java.lang.String NO_KEY_ERROR</pre>
<div class="block">Error message when no primary key supplied</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.NO_KEY_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SQL_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SQL_ERROR</h4>
<pre>private static final&nbsp;java.lang.String SQL_ERROR</pre>
<div class="block">Error message when no SQL object supplied</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.SQL_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NULL_SQL_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NULL_SQL_ERROR</h4>
<pre>private static final&nbsp;java.lang.String NULL_SQL_ERROR</pre>
<div class="block">Error message when no SQL object supplied</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.NULL_SQL_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="POST_PROCESSING_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>POST_PROCESSING_ERROR</h4>
<pre>private static final&nbsp;java.lang.String POST_PROCESSING_ERROR</pre>
<div class="block">Error message when post-processing throws an exception</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.POST_PROCESSING_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="UPDATE_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATE_ERROR</h4>
<pre>private static final&nbsp;java.lang.String UPDATE_ERROR</pre>
<div class="block">Error message when insert throws exception</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.UPDATE_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="THREAD_ERROR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>THREAD_ERROR</h4>
<pre>private static final&nbsp;java.lang.String THREAD_ERROR</pre>
<div class="block">Error message when thread is interrupted or timed out</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.poesys.db.dao.update.UpdateBatchByKey.THREAD_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UpdateBatchByKey-com.poesys.db.dao.update.IUpdateSql-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UpdateBatchByKey</h4>
<pre>public&nbsp;UpdateBatchByKey(<a href="../../../../../com/poesys/db/dao/update/IUpdateSql.html" title="interface in com.poesys.db.dao.update">IUpdateSql</a>&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;sql,
                        java.lang.String&nbsp;subsystem)</pre>
<div class="block">Create an UpdateBatchByKey object by supplying the concrete implementation
 of the SQL-statement generator and JDBC setter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sql</code> - the SQL UPDATE statement generator object</dd>
<dd><code>subsystem</code> - the subsystem of class T</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="update-java.util.Collection-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(java.util.Collection&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;dtos,
                   int&nbsp;size)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html#update-java.util.Collection-int-">IUpdateBatch</a></code></span></div>
<div class="block">An interface for a Command-pattern class that updates the contents of a
 collection of objects in the database. The DTOs in the collection must
 contain values for the primary key and must have all modifiable fields set
 to reflect the complete, desired state for the object in the database,
 including any composite aggregate parts belonging to the object. The
 implementation must pre-process and post-process all composite parts
 regardless of the update status of the top-level DTO.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html#update-java.util.Collection-int-">update</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html" title="interface in com.poesys.db.dao.update">IUpdateBatch</a>&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a> extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dtos</code> - the data transfer objects containing the desired state of the
          objects</dd>
<dd><code>size</code> - the size of the batches</dd>
</dl>
</li>
</ul>
<a name="processUpdateBatches-java.util.Collection-int-com.poesys.db.dao.PoesysTrackingThread-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processUpdateBatches</h4>
<pre>private&nbsp;void&nbsp;processUpdateBatches(java.util.Collection&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;dtos,
                                  int&nbsp;size,
                                  <a href="../../../../../com/poesys/db/dao/PoesysTrackingThread.html" title="class in com.poesys.db.dao">PoesysTrackingThread</a>&nbsp;thread)</pre>
<div class="block">Update a collection of DTOs using batch processing, including pre- and
 post-processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dtos</code> - a collection of DTOs to update</dd>
<dd><code>size</code> - the batch size</dd>
<dd><code>thread</code> - the Poesys tracking thread for the update</dd>
</dl>
</li>
</ul>
<a name="processFinalBatch-java.util.Collection-java.sql.PreparedStatement-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processFinalBatch</h4>
<pre>private&nbsp;void&nbsp;processFinalBatch(java.util.Collection&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;dtos,
                               java.sql.PreparedStatement&nbsp;stmt,
                               java.util.List&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;list)</pre>
<div class="block">Process the final batch.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dtos</code> - the list of DTOs being processed</dd>
<dd><code>stmt</code> - the prepared statement containing the final batch of SQL
          updates</dd>
<dd><code>list</code> - the list of processed DTOs, for error handling</dd>
</dl>
</li>
</ul>
<a name="processDto-com.poesys.db.dto.IDbDto-java.sql.PreparedStatement-java.lang.String-java.util.List-int-int:A-int-">
<!--   -->
</a><a name="processDto-T-java.sql.PreparedStatement-java.lang.String-java.util.List-int-int:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDto</h4>
<pre>private&nbsp;int&nbsp;processDto(<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&nbsp;dto,
                       java.sql.PreparedStatement&nbsp;stmt,
                       java.lang.String&nbsp;sqlStmt,
                       java.util.List&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;list,
                       int&nbsp;size,
                       int[]&nbsp;codes,
                       int&nbsp;count)</pre>
<div class="block">Process the DTO. The method processes a DTO with status CHANGED that the
 thread has not already processed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dto</code> - the DTO to process</dd>
<dd><code>stmt</code> - the prepared SQL statement that contains the batch</dd>
<dd><code>sqlStmt</code> - the text of the SQL statement, for debugging output</dd>
<dd><code>list</code> - the list of current DTOs for error processing</dd>
<dd><code>size</code> - the batch size</dd>
<dd><code>codes</code> - an array of codes for the batched statements</dd>
<dd><code>count</code> - the count of DTOs processed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the updated count of DTOs processed (0 or 1 more than count input)</dd>
</dl>
</li>
</ul>
<a name="processBatch-java.lang.String-java.sql.PreparedStatement-java.util.List-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processBatch</h4>
<pre>private&nbsp;int&nbsp;processBatch(java.lang.String&nbsp;key,
                         java.sql.PreparedStatement&nbsp;stmt,
                         java.util.List&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a>&gt;&nbsp;list,
                         int&nbsp;count)</pre>
<div class="block">Take a complete batch of statements and execute the batch.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the string representation of the primary key of the DTO, used
          for error messages</dd>
<dd><code>stmt</code> - the prepared SQL statement containing the batch of updates</dd>
<dd><code>list</code> - the list of current DTOs processed</dd>
<dd><code>count</code> - the count of DTOs processed in this batch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the count after completion of batch processing, normally 0</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html#close--">IUpdateBatch</a></code></span></div>
<div class="block">Close any resources allocated by the Command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/poesys/db/dao/update/IUpdateBatch.html" title="interface in com.poesys.db.dao.update">IUpdateBatch</a>&lt;<a href="../../../../../com/poesys/db/dao/update/UpdateBatchByKey.html" title="type parameter in UpdateBatchByKey">T</a> extends <a href="../../../../../com/poesys/db/dto/IDbDto.html" title="interface in com.poesys.db.dto">IDbDto</a>&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UpdateBatchByKey.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/poesys/db/dao/update/IUpdateWithParameters.html" title="interface in com.poesys.db.dao.update"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/poesys/db/dao/update/UpdateByKey.html" title="class in com.poesys.db.dao.update"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/poesys/db/dao/update/UpdateBatchByKey.html" target="_top">Frames</a></li>
<li><a href="UpdateBatchByKey.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
